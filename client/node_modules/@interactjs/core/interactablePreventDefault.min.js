import{matchesSelector as t,nodeContains as e}from"../utils/domUtils.min.js";import*as n from"../utils/is.min.js";import{getWindow as i}from"../utils/window.min.js";function r(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):n.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function o({interaction:t,event:e}){t.interactable&&t.interactable.checkAndPreventDefault(e)}export function install(o){const{Interactable:s}=o;s.prototype.preventDefault=r,s.prototype.checkAndPreventDefault=function(e){return function(e,r,o){const s=e.options.preventDefault;if("never"!==s)if("always"!==s){if(r.events.supportsPassive&&/^touch(start|move)$/.test(o.type)){const t=i(o.target).document,e=r.getDocOptions(t);if(!e||!e.events||!1!==e.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(o.type)||n.element(o.target)&&t(o.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||o.preventDefault()}else o.preventDefault()}(this,o,e)},o.interactions.docEvents.push({type:"dragstart",listener(t){for(const n of o.interactions.list)if(n.element&&(n.element===t.target||e(n.element,t.target)))return void n.interactable.checkAndPreventDefault(t)}})}export default{id:"core/interactablePreventDefault",install:install,listeners:["down","move","up","cancel"].reduce((t,e)=>(t[`interactions:${e}`]=o,t),{})};
//# sourceMappingURL=interactablePreventDefault.min.js.map
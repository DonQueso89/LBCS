{
	"version": 3,
	"sources": [
		"index.ts"
	],
	"names": [
		"Interactable",
		"Scope",
		"utils",
		"drag",
		"DropEvent",
		"install",
		"scope",
		"actions",
		"interactStatic",
		"interact",
		"defaults",
		"usePlugin",
		"prototype",
		"dropzone",
		"options",
		"dropzoneMethod",
		"dropCheck",
		"dragEvent",
		"event",
		"draggable",
		"draggableElement",
		"dropElement",
		"rect",
		"dropCheckMethod",
		"dynamicDrop",
		"newValue",
		"is",
		"bool",
		"extend",
		"phaselessTypes",
		"dragenter",
		"dragleave",
		"dropactivate",
		"dropdeactivate",
		"dropmove",
		"drop",
		"methodDict",
		"collectDrops",
		"interactables",
		"drops",
		"list",
		"enabled",
		"accept",
		"element",
		"string",
		"dom",
		"matchesSelector",
		"func",
		"dropElements",
		"target",
		"_context",
		"querySelectorAll",
		"array",
		"dropzoneElement",
		"push",
		"fireActivationEvents",
		"activeDrops",
		"slice",
		"fire",
		"propagationStopped",
		"immediatePropagationStopped",
		"getActiveDrops",
		"dragElement",
		"activeDrop",
		"getRect",
		"getDrop",
		"dropState",
		"interactable",
		"pointerEvent",
		"validDrops",
		"dropIndex",
		"indexOfDeepestElement",
		"getDropEvents",
		"interaction",
		"_pointerEvent",
		"dropEvents",
		"enter",
		"leave",
		"activate",
		"deactivate",
		"move",
		"type",
		"rejected",
		"cur",
		"prev",
		"dragLeave",
		"prevDropzone",
		"dragEnter",
		"relatedTarget",
		"dragmove",
		"fireDropEvents",
		"events",
		"onEventCreated",
		"iEvent",
		"dropResult",
		"object",
		"listeners",
		"normalized",
		"normalizeListeners",
		"corrected",
		"Object",
		"keys",
		"reduce",
		"acc",
		"correctedType",
		"test",
		"off",
		"on",
		"ondrop",
		"ondropactivate",
		"ondropdeactivate",
		"ondragenter",
		"ondragleave",
		"ondropmove",
		"overlap",
		"number",
		"Math",
		"max",
		"min",
		"checker",
		"dropped",
		"dropOverlap",
		"origin",
		"getOriginXY",
		"page",
		"pointer",
		"getPageXY",
		"x",
		"y",
		"horizontal",
		"left",
		"right",
		"vertical",
		"top",
		"bottom",
		"dragRect",
		"cx",
		"width",
		"cy",
		"height",
		"overlapArea",
		"overlapRatio",
		"id",
		"prepared",
		"name",
		"fireDropAfterMove"
	],
	"mappings": "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",
	"sourcesContent": [
		"import InteractEvent from '@interactjs/core/InteractEvent'\nimport Interactable from '@interactjs/core/Interactable'\nimport Scope from '@interactjs/core/scope'\nimport * as utils from '@interactjs/utils/index'\nimport drag from '../drag'\nimport DropEvent from './DropEvent'\n\nexport interface DropzoneMethod {\n  (options: Interact.DropzoneOptions | boolean): Interact.Interactable\n  (): Interact.DropzoneOptions\n}\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    dropzone: DropzoneMethod\n    dropCheck: (\n      dragEvent: InteractEvent,\n      event: Interact.PointerEventType,\n      draggable: Interactable,\n      draggableElement: Interact.Element,\n      dropElemen: Interact.Element,\n      rect: any\n    ) => boolean\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    dropState?: DropState\n  }\n}\n\ndeclare module '@interactjs/core/defaultOptions' {\n  interface ActionDefaults {\n    drop: Interact.DropzoneOptions\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface ActionMap {\n    drop?: typeof drop\n  }\n\n  interface Scope {\n    dynamicDrop?: boolean\n  }\n\n  interface SignalArgs {\n    'actions/drop:start': DropSignalArg\n    'actions/drop:move': DropSignalArg\n    'actions/drop:end': DropSignalArg\n  }\n}\n\ninterface DropSignalArg {\n  interaction: Interact.Interaction\n  dragEvent: Interact.DragEvent\n}\n\nexport interface ActiveDrop {\n  dropzone: Interactable\n  element: Interact.Element\n  rect: Interact.Rect\n}\n\nexport interface DropState {\n  cur: {\n    dropzone: Interactable    // the dropzone a drag target might be dropped into\n    element: Interact.Element // the element at the time of checking\n  }\n  prev: {\n    dropzone: Interactable    // the dropzone that was recently dragged away from\n    element: Interact.Element // the element at the time of checking\n  }\n  rejected: boolean           // wheather the potential drop was rejected from a listener\n  events: any                 // the drop events related to the current drag event\n  activeDrops: ActiveDrop[]\n}\n\nfunction install (scope: Scope) {\n  const {\n    actions,\n    /** @lends module:interact */\n    interactStatic: interact,\n    /** @lends Interactable */\n    Interactable, // eslint-disable-line no-shadow\n    defaults,\n  } = scope\n\n  scope.usePlugin(drag)\n\n  /**\n   *\n   * ```js\n   * interact('.drop').dropzone({\n   *   accept: '.can-drop' || document.getElementById('single-drop'),\n   *   overlap: 'pointer' || 'center' || zeroToOne\n   * }\n   * ```\n   *\n   * Returns or sets whether draggables can be dropped onto this target to\n   * trigger drop events\n   *\n   * Dropzones can receive the following events:\n   *  - `dropactivate` and `dropdeactivate` when an acceptable drag starts and ends\n   *  - `dragenter` and `dragleave` when a draggable enters and leaves the dropzone\n   *  - `dragmove` when a draggable that has entered the dropzone is moved\n   *  - `drop` when a draggable is dropped into this dropzone\n   *\n   * Use the `accept` option to allow only elements that match the given CSS\n   * selector or element. The value can be:\n   *\n   *  - **an Element** - only that element can be dropped into this dropzone.\n   *  - **a string**, - the element being dragged must match it as a CSS selector.\n   *  - **`null`** - accept options is cleared - it accepts any element.\n   *\n   * Use the `overlap` option to set how drops are checked for. The allowed\n   * values are:\n   *\n   *   - `'pointer'`, the pointer must be over the dropzone (default)\n   *   - `'center'`, the draggable element's center must be over the dropzone\n   *   - a number from 0-1 which is the `(intersection area) / (draggable area)`.\n   *   e.g. `0.5` for drop to happen when half of the area of the draggable is\n   *   over the dropzone\n   *\n   * Use the `checker` option to specify a function to check if a dragged element\n   * is over this Interactable.\n   *\n   * @param {boolean | object | null} [options] The new options to be set.\n   * @return {boolean | Interactable} The current setting or this Interactable\n   */\n  Interactable.prototype.dropzone = function (this: Interact.Interactable, options?: Interact.DropzoneOptions | boolean) {\n    return dropzoneMethod(this, options)\n  }\n\n  /**\n   * ```js\n   * interact(target)\n   * .dropChecker(function(dragEvent,         // related dragmove or dragend event\n   *                       event,             // TouchEvent/PointerEvent/MouseEvent\n   *                       dropped,           // bool result of the default checker\n   *                       dropzone,          // dropzone Interactable\n   *                       dropElement,       // dropzone elemnt\n   *                       draggable,         // draggable Interactable\n   *                       draggableElement) {// draggable element\n   *\n   *   return dropped && event.target.hasAttribute('allow-drop')\n   * }\n   * ```\n   */\n  Interactable.prototype.dropCheck = function (this: Interact.Interactable, dragEvent, event, draggable, draggableElement, dropElement, rect) {\n    return dropCheckMethod(this, dragEvent, event, draggable, draggableElement, dropElement, rect)\n  }\n\n  /**\n   * Returns or sets whether the dimensions of dropzone elements are calculated\n   * on every dragmove or only on dragstart for the default dropChecker\n   *\n   * @param {boolean} [newValue] True to check on each move. False to check only\n   * before start\n   * @return {boolean | interact} The current setting or interact\n   */\n  interact.dynamicDrop = function (newValue?: boolean) {\n    if (utils.is.bool(newValue)) {\n      // if (dragging && scope.dynamicDrop !== newValue && !newValue) {\n      //  calcRects(dropzones)\n      // }\n\n      scope.dynamicDrop = newValue\n\n      return interact\n    }\n    return scope.dynamicDrop\n  }\n\n  utils.extend(actions.phaselessTypes, {\n    dragenter: true,\n    dragleave: true,\n    dropactivate: true,\n    dropdeactivate: true,\n    dropmove: true,\n    drop: true,\n  })\n  actions.methodDict.drop = 'dropzone'\n\n  scope.dynamicDrop = false\n\n  defaults.actions.drop = drop.defaults\n}\n\nfunction collectDrops ({ interactables }, draggableElement) {\n  const drops = []\n\n  // collect all dropzones and their elements which qualify for a drop\n  for (const dropzone of interactables.list) {\n    if (!dropzone.options.drop.enabled) { continue }\n\n    const accept = dropzone.options.drop.accept\n\n    // test the draggable draggableElement against the dropzone's accept setting\n    if ((utils.is.element(accept) && accept !== draggableElement) ||\n        (utils.is.string(accept) &&\n        !utils.dom.matchesSelector(draggableElement, accept)) ||\n        (utils.is.func(accept) && !accept({ dropzone, draggableElement }))) {\n      continue\n    }\n\n    // query for new elements if necessary\n    const dropElements = utils.is.string(dropzone.target)\n      ? dropzone._context.querySelectorAll(dropzone.target)\n      : utils.is.array(dropzone.target) ? dropzone.target : [dropzone.target]\n\n    for (const dropzoneElement of dropElements) {\n      if (dropzoneElement !== draggableElement) {\n        drops.push({\n          dropzone,\n          element: dropzoneElement,\n        })\n      }\n    }\n  }\n\n  return drops\n}\n\nfunction fireActivationEvents (activeDrops, event) {\n  // loop through all active dropzones and trigger event\n  for (const { dropzone, element } of activeDrops.slice()) {\n    event.dropzone = dropzone\n\n    // set current element as event target\n    event.target = element\n    dropzone.fire(event)\n    event.propagationStopped = event.immediatePropagationStopped = false\n  }\n}\n\n// return a new array of possible drops. getActiveDrops should always be\n// called when a drag has just started or a drag event happens while\n// dynamicDrop is true\nfunction getActiveDrops (scope: Scope, dragElement: Interact.Element) {\n  // get dropzones and their elements that could receive the draggable\n  const activeDrops = collectDrops(scope, dragElement)\n\n  for (const activeDrop of activeDrops) {\n    activeDrop.rect = activeDrop.dropzone.getRect(activeDrop.element)\n  }\n\n  return activeDrops\n}\n\nfunction getDrop ({ dropState, interactable: draggable, element: dragElement }: Partial<Interact.Interaction>, dragEvent, pointerEvent) {\n  const validDrops = []\n\n  // collect all dropzones and their elements which qualify for a drop\n  for (const { dropzone, element: dropzoneElement, rect } of dropState.activeDrops) {\n    validDrops.push(dropzone.dropCheck(dragEvent, pointerEvent, draggable, dragElement, dropzoneElement, rect)\n      ? dropzoneElement\n      : null)\n  }\n\n  // get the most appropriate dropzone based on DOM depth and order\n  const dropIndex = utils.dom.indexOfDeepestElement(validDrops)\n\n  return dropState.activeDrops[dropIndex] || null\n}\n\nfunction getDropEvents (interaction: Interact.Interaction, _pointerEvent, dragEvent) {\n  const { dropState } = interaction\n  const dropEvents = {\n    enter     : null,\n    leave     : null,\n    activate  : null,\n    deactivate: null,\n    move      : null,\n    drop      : null,\n  }\n\n  if (dragEvent.type === 'dragstart') {\n    dropEvents.activate = new DropEvent(dropState, dragEvent, 'dropactivate')\n\n    dropEvents.activate.target   = null\n    dropEvents.activate.dropzone = null\n  }\n  if (dragEvent.type === 'dragend') {\n    dropEvents.deactivate = new DropEvent(dropState, dragEvent, 'dropdeactivate')\n\n    dropEvents.deactivate.target   = null\n    dropEvents.deactivate.dropzone = null\n  }\n\n  if (dropState.rejected) {\n    return dropEvents\n  }\n\n  if (dropState.cur.element !== dropState.prev.element) {\n    // if there was a previous dropzone, create a dragleave event\n    if (dropState.prev.dropzone) {\n      dropEvents.leave = new DropEvent(dropState, dragEvent, 'dragleave')\n\n      dragEvent.dragLeave    = dropEvents.leave.target   = dropState.prev.element\n      dragEvent.prevDropzone = dropEvents.leave.dropzone = dropState.prev.dropzone\n    }\n    // if dropzone is not null, create a dragenter event\n    if (dropState.cur.dropzone) {\n      dropEvents.enter = new DropEvent(dropState, dragEvent, 'dragenter')\n\n      dragEvent.dragEnter = dropState.cur.element\n      dragEvent.dropzone = dropState.cur.dropzone\n    }\n  }\n\n  if (dragEvent.type === 'dragend' && dropState.cur.dropzone) {\n    dropEvents.drop = new DropEvent(dropState, dragEvent, 'drop')\n\n    dragEvent.dropzone = dropState.cur.dropzone\n    dragEvent.relatedTarget = dropState.cur.element\n  }\n  if (dragEvent.type === 'dragmove' && dropState.cur.dropzone) {\n    dropEvents.move = new DropEvent(dropState, dragEvent, 'dropmove')\n\n    dropEvents.move.dragmove = dragEvent\n    dragEvent.dropzone = dropState.cur.dropzone\n  }\n\n  return dropEvents\n}\n\nfunction fireDropEvents (interaction: Interact.Interaction, events) {\n  const { dropState } = interaction\n  const {\n    activeDrops,\n    cur,\n    prev,\n  } = dropState\n\n  if (events.leave) { prev.dropzone.fire(events.leave) }\n  if (events.move) { cur.dropzone.fire(events.move) }\n  if (events.enter) { cur.dropzone.fire(events.enter) }\n  if (events.drop) { cur.dropzone.fire(events.drop) }\n\n  if (events.deactivate) {\n    fireActivationEvents(activeDrops, events.deactivate)\n  }\n\n  dropState.prev.dropzone  = cur.dropzone\n  dropState.prev.element = cur.element\n}\n\nfunction onEventCreated ({ interaction, iEvent, event }: Interact.DoPhaseArg<'drag', Interact.EventPhase>, scope) {\n  if (iEvent.type !== 'dragmove' && iEvent.type !== 'dragend') { return }\n\n  const { dropState } = interaction\n\n  if (scope.dynamicDrop) {\n    dropState.activeDrops = getActiveDrops(scope, interaction.element)\n  }\n\n  const dragEvent = iEvent\n  const dropResult = getDrop(interaction, dragEvent, event)\n\n  // update rejected status\n  dropState.rejected = dropState.rejected &&\n    !!dropResult &&\n    dropResult.dropzone === dropState.cur.dropzone &&\n    dropResult.element === dropState.cur.element\n\n  dropState.cur.dropzone  = dropResult && dropResult.dropzone\n  dropState.cur.element = dropResult && dropResult.element\n\n  dropState.events = getDropEvents(interaction, event, dragEvent)\n}\n\nfunction dropzoneMethod (interactable: Interact.Interactable): Interact.DropzoneOptions\nfunction dropzoneMethod (interactable: Interact.Interactable, options: Interact.DropzoneOptions | boolean)\nfunction dropzoneMethod (interactable: Interact.Interactable, options?: Interact.DropzoneOptions | boolean) {\n  if (utils.is.object(options)) {\n    interactable.options.drop.enabled = options.enabled !== false\n\n    if (options.listeners) {\n      const normalized = utils.normalizeListeners(options.listeners)\n      // rename 'drop' to '' as it will be prefixed with 'drop'\n      const corrected = Object.keys(normalized).reduce((acc, type) => {\n        const correctedType = /^(enter|leave)/.test(type)\n          ? `drag${type}`\n          : /^(activate|deactivate|move)/.test(type)\n            ? `drop${type}`\n            : type\n\n        acc[correctedType] = normalized[type]\n\n        return acc\n      }, {})\n\n      interactable.off(interactable.options.drop.listeners)\n      interactable.on(corrected)\n      interactable.options.drop.listeners = corrected\n    }\n\n    if (utils.is.func(options.ondrop)) { interactable.on('drop', options.ondrop) }\n    if (utils.is.func(options.ondropactivate)) { interactable.on('dropactivate', options.ondropactivate) }\n    if (utils.is.func(options.ondropdeactivate)) { interactable.on('dropdeactivate', options.ondropdeactivate) }\n    if (utils.is.func(options.ondragenter)) { interactable.on('dragenter', options.ondragenter) }\n    if (utils.is.func(options.ondragleave)) { interactable.on('dragleave', options.ondragleave) }\n    if (utils.is.func(options.ondropmove)) { interactable.on('dropmove', options.ondropmove) }\n\n    if (/^(pointer|center)$/.test(options.overlap as string)) {\n      interactable.options.drop.overlap = options.overlap\n    }\n    else if (utils.is.number(options.overlap)) {\n      interactable.options.drop.overlap = Math.max(Math.min(1, options.overlap), 0)\n    }\n    if ('accept' in options) {\n      interactable.options.drop.accept = options.accept\n    }\n    if ('checker' in options) {\n      interactable.options.drop.checker = options.checker\n    }\n\n    return interactable\n  }\n\n  if (utils.is.bool(options)) {\n    interactable.options.drop.enabled = options\n\n    return interactable\n  }\n\n  return interactable.options.drop\n}\n\nfunction dropCheckMethod (\n  interactable: Interact.Interactable,\n  dragEvent: InteractEvent,\n  event: Interact.PointerEventType,\n  draggable: Interact.Interactable,\n  draggableElement: Interact.Element,\n  dropElement: Interact.Element,\n  rect: any,\n) {\n  let dropped = false\n\n  // if the dropzone has no rect (eg. display: none)\n  // call the custom dropChecker or just return false\n  if (!(rect = rect || interactable.getRect(dropElement))) {\n    return (interactable.options.drop.checker\n      ? interactable.options.drop.checker(dragEvent, event, dropped, interactable, dropElement, draggable, draggableElement)\n      : false)\n  }\n\n  const dropOverlap = interactable.options.drop.overlap\n\n  if (dropOverlap === 'pointer') {\n    const origin = utils.getOriginXY(draggable, draggableElement, 'drag')\n    const page = utils.pointer.getPageXY(dragEvent)\n\n    page.x += origin.x\n    page.y += origin.y\n\n    const horizontal = (page.x > rect.left) && (page.x < rect.right)\n    const vertical   = (page.y > rect.top) && (page.y < rect.bottom)\n\n    dropped = horizontal && vertical\n  }\n\n  const dragRect = draggable.getRect(draggableElement)\n\n  if (dragRect && dropOverlap === 'center') {\n    const cx = dragRect.left + dragRect.width  / 2\n    const cy = dragRect.top  + dragRect.height / 2\n\n    dropped = cx >= rect.left && cx <= rect.right && cy >= rect.top && cy <= rect.bottom\n  }\n\n  if (dragRect && utils.is.number(dropOverlap)) {\n    const overlapArea  = (Math.max(0, Math.min(rect.right, dragRect.right) - Math.max(rect.left, dragRect.left)) *\n                          Math.max(0, Math.min(rect.bottom, dragRect.bottom) - Math.max(rect.top, dragRect.top)))\n\n    const overlapRatio = overlapArea / (dragRect.width * dragRect.height)\n\n    dropped = overlapRatio >= dropOverlap\n  }\n\n  if (interactable.options.drop.checker) {\n    dropped = interactable.options.drop.checker(dragEvent, event, dropped, interactable, dropElement, draggable, draggableElement)\n  }\n\n  return dropped\n}\n\nconst drop: Interact.Plugin = {\n  id: 'actions/drop',\n  install,\n  listeners: {\n    'interactions:before-action-start': ({ interaction }) => {\n      if (interaction.prepared.name !== 'drag') { return }\n\n      interaction.dropState = {\n        cur: {\n          dropzone: null,\n          element: null,\n        },\n        prev: {\n          dropzone: null,\n          element: null,\n        },\n        rejected: null,\n        events: null,\n        activeDrops: [],\n      }\n    },\n\n    'interactions:after-action-start': ({ interaction, event, iEvent: dragEvent }: Interact.DoPhaseArg<'drag', Interact.EventPhase>, scope) => {\n      if (interaction.prepared.name !== 'drag') { return }\n\n      const { dropState } = interaction\n\n      // reset active dropzones\n      dropState.activeDrops = null\n      dropState.events = null\n      dropState.activeDrops = getActiveDrops(scope, interaction.element)\n      dropState.events = getDropEvents(interaction, event, dragEvent)\n\n      if (dropState.events.activate) {\n        fireActivationEvents(dropState.activeDrops, dropState.events.activate)\n        scope.fire('actions/drop:start', { interaction, dragEvent })\n      }\n    },\n\n    // FIXME proper signal types\n    'interactions:action-move': onEventCreated,\n    'interactions:action-end': onEventCreated,\n\n    'interactions:after-action-move': function fireDropAfterMove ({ interaction, iEvent: dragEvent }: Interact.DoPhaseArg<'drag', Interact.EventPhase>, scope) {\n      if (interaction.prepared.name !== 'drag') { return }\n\n      fireDropEvents(interaction, interaction.dropState.events)\n\n      scope.fire('actions/drop:move', { interaction, dragEvent })\n      interaction.dropState.events = {}\n    },\n\n    'interactions:after-action-end': ({ interaction, iEvent: dragEvent }: Interact.DoPhaseArg<'drag', Interact.EventPhase>, scope) => {\n      if (interaction.prepared.name !== 'drag') { return }\n\n      fireDropEvents(interaction, interaction.dropState.events)\n      scope.fire('actions/drop:end', { interaction, dragEvent })\n    },\n\n    'interactions:stop': ({ interaction }) => {\n      if (interaction.prepared.name !== 'drag') { return }\n\n      const { dropState } = interaction\n\n      if (dropState) {\n        dropState.activeDrops = null\n        dropState.events = null\n        dropState.cur.dropzone = null\n        dropState.cur.element = null\n        dropState.prev.dropzone = null\n        dropState.prev.element = null\n        dropState.rejected = false\n      }\n    },\n  },\n  getActiveDrops,\n  getDrop,\n  getDropEvents,\n  fireDropEvents,\n  defaults: {\n    enabled: false,\n    accept : null,\n    overlap: 'pointer',\n  } as Interact.DropzoneOptions,\n}\n\nexport default drop\n"
	]
}